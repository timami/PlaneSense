<!DOCTYPE html>
<html manifest="stratux.appcache">

<head>
	<meta charset="utf-8" />
	<title>Stratux</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimal-ui" />
	<!-- android -->
	<meta name="mobile-web-app-capable" content="yes">
	<link href="img/logo-android3.png" rel="icon" />
	<!-- iOS -->
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<link href="img/logo-apple3.png" rel="apple-touch-icon" />

	<!-- iPad retina portrait startup image -->
	<link href="img/screen-1536x2008.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" rel="apple-touch-startup-image">
	<!-- iPad retina landscape startup image -->
	<link href="img/screen-1496x2048.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" rel="apple-touch-startup-image">
	<!-- iPad non-retina portrait startup image -->
	<link href="img/screen-768x1004.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 1) and (orientation: portrait)" rel="apple-touch-startup-image">
	<!-- iPad non-retina landscape startup image -->
	<link href="img/screen-748x1024.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 1) and (orientation: landscape)" rel="apple-touch-startup-image">
	<!-- iPhone 6 Plus portrait startup image -->
	<link href="img/screen-1242x2148.png" media="(device-width: 414px) and (device-height: 736px) and  (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" rel="apple-touch-startup-image">
	<!-- iPhone 6 Plus landscape startup image -->
	<link href="img/screen-1182x2208.png" media="(device-width: 414px) and (device-height: 736px) and  (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" rel="apple-touch-startup-image">
	<!-- iPhone 6 startup image -->
	<link href="img/screen-750x1294.png" media="(device-width: 375px) and (device-height: 667px) and  (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
	<!-- iPhone 5 startup image -->
	<link href="img/screen-640x1096.png" media="(device-width: 320px) and (device-height: 568px) and  (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
	<!-- iPhone < 5 retina startup image -->
	<link href="img/screen-640x920.png" media="(device-width: 320px) and (device-height: 480px) and  (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
	<!-- iPhone < 5 non-retina startup image -->
	<link href="img/screen-320x460.png" media="(device-width: 320px) and (device-height: 480px) and  (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">


	<link rel="stylesheet" type="text/css" href="css/addtohomescreen.css">
	<script src="js/addtohomescreen.min.js"></script>
	<script>
		addToHomescreen({ displayPace: 480 });
	</script>

	<link rel="stylesheet" href="maui/css/mobile-angular-ui-base.min.css" />
	<link rel="stylesheet" href="maui/css/mobile-angular-ui-hover.min.css" />
	<link rel="stylesheet" href="maui/css/mobile-angular-ui-desktop.min.css" />

	<link rel="stylesheet" href="css/main.css" />

	<script src="maui/js/angular.min.js"></script>
	<script src="maui/js/angular-ui-router.min.js"></script>
	<script src="maui/js/mobile-angular-ui.min.js"></script>
	<script src="maui/js/mobile-angular-ui.gestures.min.js"></script>

	<!-- TODO: combine and minify the following javascript -->
	<script src="js/main.js"></script>
	<script src="plates/js/logs.js"></script>
	<script src="plates/js/settings.js"></script>
	<script src="plates/js/status.js"></script>
	<script src="plates/js/towers.js"></script>
	<script src="plates/js/traffic.js"></script>
	<script src="plates/js/weather.js"></script>
	<script src="js/j3di-all.min.js"></script>
	<script src="plates/js/ahrs.js"></script>
	<script src="plates/js/gps.js"></script>
	<script src="plates/js/developer.js"></script>
</head>

<body ng-app="stratux" ng-controller="MainCtrl" ui-prevent-touchmove-defaults>
	<!-- Needed for modal confirmation dialogs -->
	<div ui-yield-to="modals"></div>
	<!-- Define Left (Menu) Sidebar Navigation -->
	<div ui-track-as-search-param='true' class="sidebar sidebar-left">
		<div class="scrollable">
			<h3 class="scrollable-header app-name">Menu</h3>
			<div class="scrollable-content">
				<div class="list-group" ui-turn-off='uiSidebarLeft'>
					<!-- hrefs are redirected by the state engine in main.js -->
					<a class="list-group-item" href="#/"><i class="fa fa-home"></i>            Status   <i class="fa fa-chevron-right pull-right"></i></a>
					<a class="list-group-item" href="#/weather"><i class="fa fa-cloud"></i>    Weather  <i class="fa fa-chevron-right pull-right"></i></a>
					<a class="list-group-item" href="#/traffic"><i class="fa fa-plane"></i>    Traffic  <i class="fa fa-chevron-right pull-right"></i></a>
					<a class="list-group-item" href="#/gps"><i class="fa fa-globe"></i>        GPS/AHRS <i class="fa fa-chevron-right pull-right"></i></a>
					<a class="list-group-item" href="#/towers"><i class="fa fa-signal"></i>    Towers   <i class="fa fa-chevron-right pull-right"></i></a>
					<a class="list-group-item" href="#/logs"><i class="fa fa-file-text-o"></i> Logs     <i class="fa fa-chevron-right pull-right"></i></a>
					<a class="list-group-item" href="#/settings"><i class="fa fa-gear"></i>    Settings <i class="fa fa-chevron-right pull-right"></i></a>
					<div ng-show="DeveloperMode">
					<a class="list-group-item" href="#/developer"><i class="fa fa-tasks"></i>    Developer <i class="fa fa-chevron-right pull-right"></i></a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Define Right (Help) Sidebar -->
	<div class="sidebar sidebar-right">
		<div class="scrollable">
			<h3 class="scrollable-header app-name">Help</h3>
			<div class="scrollable-content">
				<div class="list-group" ui-toggle="uiSidebarRight">
					<div ng-include="helppage"></div>
				</div>
			</div>
		</div>
	</div>



	<div class="app" ui-swipe-right='Ui.turnOn("uiSidebarLeft")' ui-swipe-left='Ui.turnOff("uiSidebarLeft")'>

		<!-- Create Header Navbar with left Menu Button -->
		<div class="navbar navbar-app navbar-absolute-top">
			<div class="navbar-brand navbar-brand-center" ui-yield-to="title">
				<a href="#/">
                    Stratux
            </a>
			</div>
			<div class="btn-group pull-left">
				<div ui-toggle="uiSidebarLeft" class="btn sidebar-toggle">
					<i class="fa fa-bars"></i> Menu
				</div>
			</div>
			<div class="btn-group pull-right" ui-yield-to="navbarAction">
				<div ui-toggle="uiSidebarRight" class="btn">
					<i class="fa fa-info-circle"></i> Help
				</div>
			</div>
		</div>

		<!-- App Body -->
		<div class="app-body">
			<div class="app-content">
				<div class="scrollable">
					<div class="scrollable-content">
						<!-- <div ui-view></div> -->

						<div class="col-sm-12">
							<div class="panel panel-default">
								<div class="panel-heading">
									<span class="panel_label">ADS-B and TIS-B Traffic</span>
									<span ng-show="ConnectState == 'Connected'" class="label label-success">{{ConnectState}}</span>
									<span ng-hide="ConnectState == 'Connected'" class="label label-danger">{{ConnectState}}</span>
								</div>

								<div class="panel-body traffic-page">
									<div class="row">
										<div class="col-sm-6">
											<span class="col-xs-3" ng-hide="showReg"><strong>Callsign</strong></span>
											<span class="col-xs-3" ng-show="showReg"><strong>Tail Num</strong></span>
											<span class="col-xs-2" ng-hide="showSquawk"><strong>Code</strong></span>
											<span class="col-xs-2" ng-show="showSquawk"><strong>Squawk</strong></span>
											<span class="col-xs-5 text-right" ng-hide="GPS_connected && RelDist"><strong>Location</strong></span>
											<span class="col-xs-3 text-right" ng-show="GPS_connected && RelDist"><strong>Dist</strong></span>
											<span class="col-xs-2 text-right" ng-show="GPS_connected && RelDist"><strong>Bearing</strong></span>
										</div>

										<div class="col-sm-6">
											<span class="col-xs-3 text-right"><strong>Altitude</strong></span><span class="col-xs-1">&nbsp;</span>
											<span class="col-xs-2 text-right"><strong>Speed</strong></span>
											<span class="col-xs-2 text-right"><strong>Course</strong></span>
											<span class="col-xs-2 text-right"><strong>Power</strong></span>
											<span class="col-xs-2 text-right"><strong>Age</strong></span>
										</div>
									</div>

									<div class="row" ng-repeat="aircraft in data_list | orderBy: 'dist'">
										<div class="separator"></div>
										<div class="col-sm-6">
											<span class="col-xs-3" ng-hide="showReg">
												<span ng-show="aircraft.tail" ng-class="'label traffic-style'+aircraft.src+aircraft.targettype">{{aircraft.addr_symb}}<strong>&nbsp;{{aircraft.tail}}</strong></span>
												<span ng-hide="aircraft.tail" ng-class="'label traffic-style'+aircraft.src+aircraft.targettype">{{aircraft.addr_symb}}<strong>&nbsp;[--N/A--]</strong></span>
											</span>
											<span class="col-xs-3" ng-show="showReg">
												<span ng-show="aircraft.reg" ng-class="'label traffic-style'+aircraft.src+aircraft.targettype">{{aircraft.addr_symb}}<strong>&nbsp;{{aircraft.reg}}</strong></span>
												<span ng-hide="aircraft.reg" ng-class="'label traffic-style'+aircraft.src+aircraft.targettype">{{aircraft.addr_symb}}<strong>&nbsp;[--N/A--]</strong></span>
											</span>

											<span class="col-xs-2">
												<span style="font-size:80%" ng-hide="showSquawk">{{aircraft.icao}}<span style="font-size:50%">{{aircraft.addr_type == 3 ? "&nbsp;(TFID)" : ""}}</span></span>
												<span ng-show="showSquawk"><span ng-show="aircraft.squawk < 1000">0</span><span ng-show="aircraft.squawk < 100">0</span><span ng-show="aircraft.squawk < 10">0</span>{{aircraft.squawk}}</span>
											</span>
											<span class="col-xs-5 text-right" ng-hide="GPS_connected && RelDist">{{aircraft.lat}} {{aircraft.lon}}</span>
											<span class="col-xs-3 text-right" ng-show="GPS_connected && RelDist">{{aircraft.dist.toFixed(1)}}<span style="font-size:50%">NM</span></span>
											<span class="col-xs-2 text-right" ng-show="GPS_connected && RelDist">{{aircraft.bearing}}&deg;</span>

										</div>
										<div class="col-sm-6">
											<span class="col-xs-3 text-right">{{aircraft.alt}}</span>
											<span class="col-xs-1 small col-padding-shift-right text-muted">
												<span ng-show="aircraft.vspeed > 0"><span class="fa fa-ascent"></span>{{aircraft.vspeed}}</span>
												<span ng-show="aircraft.vspeed < 0"><span class="fa fa-descent"></span>{{0-aircraft.vspeed}}</span>
											</span>
											<span class="col-xs-2 text-right">{{aircraft.speed}}<span style="font-size:50%">KTS</span></span>
											<span class="col-xs-2 text-right"><span ng-show="aircraft.heading < 10">0</span><span ng-show="aircraft.heading < 100">0</span>{{aircraft.heading}}&deg;</span>
											<span class="col-xs-2 text-right">{{aircraft.signal.toFixed(2)}}<span style="font-size:50%">dB</span></span>
											<span class="col-xs-2 text-right">{{aircraft.age.toFixed(1)}}<span style="font-size:50%">s</span></span>
										</div>
									</div>
								</div>

								<div class="panel-body traffic-footer">
									<div class="separator"></div>
									<div class="row">
										<div class="col-sm-4">
											<label class="control-label col-xs-6">Show Tail Number</label>
											<span class="col-xs-3"><ui-switch ng-model='showReg' settings-change></ui-switch></span>
										</div>
										<div class="col-sm-4">
											<label class="control-label col-xs-6">Show Squawk</label>
											<span class="col-xs-3"><ui-switch ng-model='showSquawk' settings-change></ui-switch></span>
										</div>
										<div class="col-sm-4">
											<label class="control-label col-xs-6" ng-show="GPS_connected">Show Distance</label>
											<label class="control-label text-muted col-xs-6" ng-hide="GPS_connected">Show Distance N/A</label>
											<span class="col-xs-3"><ui-switch ng-model='RelDist' settings-change></ui-switch></span>
										</div>
										<!--
										<div class="col-sm-4">
											<label class="control-label col-xs-6">GPS Status</label>
											<span ng-show="GPS_connected" class="label label-success col-xs-3" style="font-size:100%; display:block; height: 34px; line-height: 34px">Valid</span>
											<span ng-hide="GPS_connected" class="label label-danger col-xs-3" style="font-size:100%; display:block; height: 34px; line-height: 34px">No Fix</span>
										</div>
										-->
									</div>
								</div>
							</div>

							<div class="panel panel-default">
								<div class="panel-heading">
									<span class="panel_label">Basic Mode S and No-Position Messages</span>
								</div>

								<div class="panel-body traffic-page">
									<div class="row">
										<div class="col-sm-6">
											<span class="col-xs-4" ng-hide="showReg"><strong>Callsign</strong></span>
											<span class="col-xs-4" ng-show="showReg"><strong>Tail Num</strong></span>
											<span class="col-xs-3"><strong>Code</strong></span>
											<span class="col-xs-3"><strong>Squawk</strong></span>
										</div>

										<div class="col-sm-6">
											<span class="col-xs-3 text-right"><strong>Altitude</strong></span><span class="col-xs-1">&nbsp;</span>
											<span class="col-xs-2 text-right"><strong>Speed</strong></span>
											<span class="col-xs-2 text-right"><strong>Course</strong></span>
											<span class="col-xs-2 text-right"><strong>Power</strong></span>
											<span class="col-xs-2 text-right"><strong>Age</strong></span>
										</div>
									</div>

									<div class="row" ng-repeat="aircraft in data_list_invalid | orderBy: 'icao'">
										<div class="separator"></div>
										<div class="col-sm-6">
											<span class="col-xs-4" ng-hide="showReg">
												<span ng-show="aircraft.tail" ng-class="'label traffic-style'+aircraft.src+aircraft.targettype">{{aircraft.addr_symb}}<strong>&nbsp;{{aircraft.tail}}</strong></span>
												<span ng-hide="aircraft.tail" ng-class="'label traffic-style'+aircraft.src+aircraft.targettype">{{aircraft.addr_symb}}<strong>&nbsp;[--N/A--]</strong></span>
											</span>
											<span class="col-xs-4" ng-show="showReg">
												<span ng-show="aircraft.reg" ng-class="'label traffic-style'+aircraft.src+aircraft.targettype">{{aircraft.addr_symb}}<strong>&nbsp;{{aircraft.reg}}</strong></span>
												<span ng-hide="aircraft.reg" ng-class="'label traffic-style'+aircraft.src+aircraft.targettype">{{aircraft.addr_symb}}<strong>&nbsp;[--N/A--]</strong></span>
											</span>
											<span class="col-xs-3" style="font-size:80%">{{aircraft.icao}}<span style="font-size:50%">{{aircraft.addr_type == 3 ? "&nbsp;(TFID)" : ""}}</span></span>
											<span class="col-xs-3"><span ng-show="aircraft.squawk < 1000">0</span><span ng-show="aircraft.squawk < 100">0</span><span ng-show="aircraft.squawk < 10">0</span>{{aircraft.squawk}}</span>
										</div>

										<div class="col-sm-6">
											<span class="col-xs-3 text-right">{{aircraft.alt}}</span>
											<span class="col-xs-1 small col-padding-shift-right text-muted">
												<span ng-show="aircraft.vspeed > 0"><span class="fa fa-ascent"></span>{{aircraft.vspeed}}</span>
												<span ng-show="aircraft.vspeed < 0"><span class="fa fa-descent"></span>{{0-aircraft.vspeed}}</span>
											</span>
											<span class="col-xs-2 text-right">{{aircraft.speed}}<span style="font-size:50%">KTS</span></span>
											<span class="col-xs-2 text-right"><span ng-show="aircraft.heading < 10">0</span><span ng-show="aircraft.heading < 100">0</span>{{aircraft.heading}}&deg;</span>
											<span class="col-xs-2 text-right">{{aircraft.signal.toFixed(2)}}<span style="font-size:50%">dB</span></span>
											<span class="col-xs-2 text-right">{{aircraft.ageLastAlt.toFixed(1)}}<span style="font-size:50%">s</span></span>
										</div>
									</div>
								</div>

								<div class="panel-body traffic-footer">
									<div class="separator"></div>
									<span class ="col-sm-12 small">Stratux has not received valid ADS-B position transmissions from the aircraft in this section. They will not appear on your EFB map. See help page for details.</span>
								</div>
							</div>
						</div>


						<!--
						<div class="col-sm-12">
							<div class="panel panel-default">
								<div class="panel-heading">Raw Traffic Data</div>
								<div class="panel-body">
									<pre>{{raw_data}}</pre>
								</div>
							</div>
						</div>
						-->



					</div>
				</div>
			</div>
		</div>

	</div>
</body>

</html>
